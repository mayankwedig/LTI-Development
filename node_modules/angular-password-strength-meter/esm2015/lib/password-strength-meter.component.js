/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Component, Input, Output, EventEmitter } from '@angular/core';
import { PasswordStrengthMeterService } from './password-strength-meter.service';
export class PasswordStrengthMeterComponent {
    /**
     * @param {?} passwordStrengthMeterService
     */
    constructor(passwordStrengthMeterService) {
        this.passwordStrengthMeterService = passwordStrengthMeterService;
        this.minPasswordLength = 8;
        this.enableFeedback = false;
        this.colors = [];
        this.strengthChange = new EventEmitter();
        this.passwordStrength = null;
        this.feedback = null;
        this.prevPasswordStrength = null;
        this.defaultColours = [
            'darkred',
            'orangered',
            'orange',
            'yellowgreen',
            'green'
        ];
    }
    /**
     * @return {?}
     */
    ngOnInit() { }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        if (changes['password']) {
            this.calculatePasswordStrength();
        }
    }
    /**
     * @return {?}
     */
    calculatePasswordStrength() {
        // TODO validation logic optimization
        if (!this.password) {
            this.passwordStrength = null;
        }
        else if (this.password && this.password.length < this.minPasswordLength) {
            this.passwordStrength = 0;
        }
        else {
            if (this.enableFeedback) {
                const /** @type {?} */ result = this.passwordStrengthMeterService.scoreWithFeedback(this.password);
                this.passwordStrength = result.score;
                this.feedback = result.feedback;
            }
            else {
                this.passwordStrength = this.passwordStrengthMeterService.score(this.password);
                this.feedback = null;
            }
        }
        // Only emit the passwordStrength if it changed
        if (this.prevPasswordStrength !== this.passwordStrength) {
            this.strengthChange.emit(this.passwordStrength);
            this.prevPasswordStrength = this.passwordStrength;
        }
    }
    /**
     * @param {?} strength
     * @return {?}
     */
    getMeterFillColor(strength) {
        if (!strength || strength < 0 || strength > 5) {
            return this.colors[0] ? this.colors[0] : this.defaultColours[0];
        }
        return this.colors[strength]
            ? this.colors[strength]
            : this.defaultColours[strength];
    }
}
PasswordStrengthMeterComponent.decorators = [
    { type: Component, args: [{
                selector: 'password-strength-meter',
                template: `<div>
  <div class="strength-meter">
    <div class="strength-meter-fill" [style.background]="getMeterFillColor(passwordStrength)" [attr.data-strength]="passwordStrength"></div>
  </div>
  <ng-container *ngIf="enableFeedback && feedback">
    <small class="password-feedback" *ngIf="feedback.warning">
      {{feedback.warning}}
    </small>
    <small class="password-feedback" *ngIf="feedback.suggestions && feedback.suggestions.length > 0">
      <ng-container *ngFor="let suggetion of feedback.suggestions">{{suggetion}}</ng-container>
    </small>
  </ng-container>
</div>
`,
                styles: [`.strength-meter{position:relative;height:3px;background:#ddd;margin:10px auto;border-radius:3px}.strength-meter:after,.strength-meter:before{content:'';height:inherit;background:0 0;display:block;border-color:#fff;border-style:solid;border-width:0 5px;position:absolute;width:85px;z-index:10}.strength-meter:before{left:70px}.strength-meter:after{right:70px}.strength-meter-fill{background:0 0;height:inherit;position:absolute;width:0;border-radius:inherit;transition:width .5s ease-in-out,background .25s}.strength-meter-fill[data-strength='0']{background:#8b0000;width:20%}.strength-meter-fill[data-strength='1']{background:#ff4500;width:40%}.strength-meter-fill[data-strength='2']{background:orange;width:60%}.strength-meter-fill[data-strength='3']{background:#9acd32;width:80%}.strength-meter-fill[data-strength='4']{background:green;width:100%}.password-feedback{font-size:70%;font-weight:400;color:#6c757d!important;display:inline-block;margin-top:.25rem}`],
                providers: [PasswordStrengthMeterService]
            },] },
];
/** @nocollapse */
PasswordStrengthMeterComponent.ctorParameters = () => [
    { type: PasswordStrengthMeterService, },
];
PasswordStrengthMeterComponent.propDecorators = {
    "password": [{ type: Input },],
    "minPasswordLength": [{ type: Input },],
    "enableFeedback": [{ type: Input },],
    "colors": [{ type: Input },],
    "strengthChange": [{ type: Output },],
};
function PasswordStrengthMeterComponent_tsickle_Closure_declarations() {
    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */
    PasswordStrengthMeterComponent.decorators;
    /**
     * @nocollapse
     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}
     */
    PasswordStrengthMeterComponent.ctorParameters;
    /** @type {!Object<string,!Array<{type: !Function, args: (undefined|!Array<?>)}>>} */
    PasswordStrengthMeterComponent.propDecorators;
    /** @type {?} */
    PasswordStrengthMeterComponent.prototype.password;
    /** @type {?} */
    PasswordStrengthMeterComponent.prototype.minPasswordLength;
    /** @type {?} */
    PasswordStrengthMeterComponent.prototype.enableFeedback;
    /** @type {?} */
    PasswordStrengthMeterComponent.prototype.colors;
    /** @type {?} */
    PasswordStrengthMeterComponent.prototype.strengthChange;
    /** @type {?} */
    PasswordStrengthMeterComponent.prototype.passwordStrength;
    /** @type {?} */
    PasswordStrengthMeterComponent.prototype.feedback;
    /** @type {?} */
    PasswordStrengthMeterComponent.prototype.prevPasswordStrength;
    /** @type {?} */
    PasswordStrengthMeterComponent.prototype.defaultColours;
    /** @type {?} */
    PasswordStrengthMeterComponent.prototype.passwordStrengthMeterService;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vYW5ndWxhci1wYXNzd29yZC1zdHJlbmd0aC1tZXRlci8iLCJzb3VyY2VzIjpbImxpYi9wYXNzd29yZC1zdHJlbmd0aC1tZXRlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFDTCxTQUFTLEVBRVQsS0FBSyxFQUdMLE1BQU0sRUFDTixZQUFZLEVBQ2IsTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFxQmpGLE1BQU07Ozs7SUF5QkosWUFDVTtRQUFBLGlDQUE0QixHQUE1Qiw0QkFBNEI7aUNBdkJULENBQUM7OEJBRUosS0FBSztzQkFFSCxFQUFFOzhCQUVILElBQUksWUFBWSxFQUFVO2dDQUUxQixJQUFJO3dCQUV3QixJQUFJO29DQUU1QixJQUFJOzhCQUVWO1lBQ3ZCLFNBQVM7WUFDVCxXQUFXO1lBQ1gsUUFBUTtZQUNSLGFBQWE7WUFDYixPQUFPO1NBQ1I7S0FJRzs7OztJQUVKLFFBQVEsTUFBSzs7Ozs7SUFFYixXQUFXLENBQUMsT0FBc0I7UUFDaEMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMseUJBQXlCLEVBQUUsQ0FBQztTQUNsQztLQUNGOzs7O0lBRU8seUJBQXlCOztRQUUvQixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQ25CLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7U0FDOUI7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1lBQzFFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7U0FDM0I7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO2dCQUN4Qix1QkFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLDRCQUE0QixDQUFDLGlCQUFpQixDQUNoRSxJQUFJLENBQUMsUUFBUSxDQUNkLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQzthQUNqQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNOLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsNEJBQTRCLENBQUMsS0FBSyxDQUM3RCxJQUFJLENBQUMsUUFBUSxDQUNkLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7YUFDdEI7U0FDRjs7UUFHRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEtBQUssSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQztZQUN4RCxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNoRCxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDO1NBQ25EOzs7Ozs7SUFHSCxpQkFBaUIsQ0FBQyxRQUFRO1FBQ3hCLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxJQUFJLFFBQVEsR0FBRyxDQUFDLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDakU7UUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7WUFDMUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO1lBQ3ZCLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQ25DOzs7WUE1RkYsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSx5QkFBeUI7Z0JBQ25DLFFBQVEsRUFBRTs7Ozs7Ozs7Ozs7OztDQWFYO2dCQUNDLE1BQU0sRUFBRSxDQUFDLG04QkFBbThCLENBQUM7Z0JBQzc4QixTQUFTLEVBQUUsQ0FBQyw0QkFBNEIsQ0FBQzthQUMxQzs7OztZQXBCUSw0QkFBNEI7Ozt5QkFzQmxDLEtBQUs7a0NBRUwsS0FBSzsrQkFFTCxLQUFLO3VCQUVMLEtBQUs7K0JBRUwsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgQ29tcG9uZW50LFxyXG4gIE9uSW5pdCxcclxuICBJbnB1dCxcclxuICBPbkNoYW5nZXMsXHJcbiAgU2ltcGxlQ2hhbmdlcyxcclxuICBPdXRwdXQsXHJcbiAgRXZlbnRFbWl0dGVyXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBQYXNzd29yZFN0cmVuZ3RoTWV0ZXJTZXJ2aWNlIH0gZnJvbSAnLi9wYXNzd29yZC1zdHJlbmd0aC1tZXRlci5zZXJ2aWNlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAncGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXInLFxyXG4gIHRlbXBsYXRlOiBgPGRpdj5cclxuICA8ZGl2IGNsYXNzPVwic3RyZW5ndGgtbWV0ZXJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJzdHJlbmd0aC1tZXRlci1maWxsXCIgW3N0eWxlLmJhY2tncm91bmRdPVwiZ2V0TWV0ZXJGaWxsQ29sb3IocGFzc3dvcmRTdHJlbmd0aClcIiBbYXR0ci5kYXRhLXN0cmVuZ3RoXT1cInBhc3N3b3JkU3RyZW5ndGhcIj48L2Rpdj5cclxuICA8L2Rpdj5cclxuICA8bmctY29udGFpbmVyICpuZ0lmPVwiZW5hYmxlRmVlZGJhY2sgJiYgZmVlZGJhY2tcIj5cclxuICAgIDxzbWFsbCBjbGFzcz1cInBhc3N3b3JkLWZlZWRiYWNrXCIgKm5nSWY9XCJmZWVkYmFjay53YXJuaW5nXCI+XHJcbiAgICAgIHt7ZmVlZGJhY2sud2FybmluZ319XHJcbiAgICA8L3NtYWxsPlxyXG4gICAgPHNtYWxsIGNsYXNzPVwicGFzc3dvcmQtZmVlZGJhY2tcIiAqbmdJZj1cImZlZWRiYWNrLnN1Z2dlc3Rpb25zICYmIGZlZWRiYWNrLnN1Z2dlc3Rpb25zLmxlbmd0aCA+IDBcIj5cclxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgc3VnZ2V0aW9uIG9mIGZlZWRiYWNrLnN1Z2dlc3Rpb25zXCI+e3tzdWdnZXRpb259fTwvbmctY29udGFpbmVyPlxyXG4gICAgPC9zbWFsbD5cclxuICA8L25nLWNvbnRhaW5lcj5cclxuPC9kaXY+XHJcbmAsXHJcbiAgc3R5bGVzOiBbYC5zdHJlbmd0aC1tZXRlcntwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6M3B4O2JhY2tncm91bmQ6I2RkZDttYXJnaW46MTBweCBhdXRvO2JvcmRlci1yYWRpdXM6M3B4fS5zdHJlbmd0aC1tZXRlcjphZnRlciwuc3RyZW5ndGgtbWV0ZXI6YmVmb3Jle2NvbnRlbnQ6Jyc7aGVpZ2h0OmluaGVyaXQ7YmFja2dyb3VuZDowIDA7ZGlzcGxheTpibG9jaztib3JkZXItY29sb3I6I2ZmZjtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLXdpZHRoOjAgNXB4O3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjg1cHg7ei1pbmRleDoxMH0uc3RyZW5ndGgtbWV0ZXI6YmVmb3Jle2xlZnQ6NzBweH0uc3RyZW5ndGgtbWV0ZXI6YWZ0ZXJ7cmlnaHQ6NzBweH0uc3RyZW5ndGgtbWV0ZXItZmlsbHtiYWNrZ3JvdW5kOjAgMDtoZWlnaHQ6aW5oZXJpdDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDowO2JvcmRlci1yYWRpdXM6aW5oZXJpdDt0cmFuc2l0aW9uOndpZHRoIC41cyBlYXNlLWluLW91dCxiYWNrZ3JvdW5kIC4yNXN9LnN0cmVuZ3RoLW1ldGVyLWZpbGxbZGF0YS1zdHJlbmd0aD0nMCdde2JhY2tncm91bmQ6IzhiMDAwMDt3aWR0aDoyMCV9LnN0cmVuZ3RoLW1ldGVyLWZpbGxbZGF0YS1zdHJlbmd0aD0nMSdde2JhY2tncm91bmQ6I2ZmNDUwMDt3aWR0aDo0MCV9LnN0cmVuZ3RoLW1ldGVyLWZpbGxbZGF0YS1zdHJlbmd0aD0nMidde2JhY2tncm91bmQ6b3JhbmdlO3dpZHRoOjYwJX0uc3RyZW5ndGgtbWV0ZXItZmlsbFtkYXRhLXN0cmVuZ3RoPSczJ117YmFja2dyb3VuZDojOWFjZDMyO3dpZHRoOjgwJX0uc3RyZW5ndGgtbWV0ZXItZmlsbFtkYXRhLXN0cmVuZ3RoPSc0J117YmFja2dyb3VuZDpncmVlbjt3aWR0aDoxMDAlfS5wYXNzd29yZC1mZWVkYmFja3tmb250LXNpemU6NzAlO2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjojNmM3NTdkIWltcG9ydGFudDtkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW4tdG9wOi4yNXJlbX1gXSxcclxuICBwcm92aWRlcnM6IFtQYXNzd29yZFN0cmVuZ3RoTWV0ZXJTZXJ2aWNlXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgUGFzc3dvcmRTdHJlbmd0aE1ldGVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMge1xyXG4gIEBJbnB1dCgpIHBhc3N3b3JkOiBzdHJpbmc7XHJcblxyXG4gIEBJbnB1dCgpIG1pblBhc3N3b3JkTGVuZ3RoID0gODtcclxuXHJcbiAgQElucHV0KCkgZW5hYmxlRmVlZGJhY2sgPSBmYWxzZTtcclxuXHJcbiAgQElucHV0KCkgY29sb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBAT3V0cHV0KCkgc3RyZW5ndGhDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcclxuXHJcbiAgcGFzc3dvcmRTdHJlbmd0aDogbnVtYmVyID0gbnVsbDtcclxuXHJcbiAgZmVlZGJhY2s6IHsgc3VnZ2VzdGlvbnM6IHN0cmluZ1tdOyB3YXJuaW5nOiBzdHJpbmcgfSA9IG51bGw7XHJcblxyXG4gIHByaXZhdGUgcHJldlBhc3N3b3JkU3RyZW5ndGggPSBudWxsO1xyXG5cclxuICBwcml2YXRlIGRlZmF1bHRDb2xvdXJzID0gW1xyXG4gICAgJ2RhcmtyZWQnLFxyXG4gICAgJ29yYW5nZXJlZCcsXHJcbiAgICAnb3JhbmdlJyxcclxuICAgICd5ZWxsb3dncmVlbicsXHJcbiAgICAnZ3JlZW4nXHJcbiAgXTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIHBhc3N3b3JkU3RyZW5ndGhNZXRlclNlcnZpY2U6IFBhc3N3b3JkU3RyZW5ndGhNZXRlclNlcnZpY2VcclxuICApIHt9XHJcblxyXG4gIG5nT25Jbml0KCkge31cclxuXHJcbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xyXG4gICAgaWYgKGNoYW5nZXNbJ3Bhc3N3b3JkJ10pIHtcclxuICAgICAgdGhpcy5jYWxjdWxhdGVQYXNzd29yZFN0cmVuZ3RoKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNhbGN1bGF0ZVBhc3N3b3JkU3RyZW5ndGgoKSB7XHJcbiAgICAvLyBUT0RPIHZhbGlkYXRpb24gbG9naWMgb3B0aW1pemF0aW9uXHJcbiAgICBpZiAoIXRoaXMucGFzc3dvcmQpIHtcclxuICAgICAgdGhpcy5wYXNzd29yZFN0cmVuZ3RoID0gbnVsbDtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5wYXNzd29yZCAmJiB0aGlzLnBhc3N3b3JkLmxlbmd0aCA8IHRoaXMubWluUGFzc3dvcmRMZW5ndGgpIHtcclxuICAgICAgdGhpcy5wYXNzd29yZFN0cmVuZ3RoID0gMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLmVuYWJsZUZlZWRiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wYXNzd29yZFN0cmVuZ3RoTWV0ZXJTZXJ2aWNlLnNjb3JlV2l0aEZlZWRiYWNrKFxyXG4gICAgICAgICAgdGhpcy5wYXNzd29yZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5wYXNzd29yZFN0cmVuZ3RoID0gcmVzdWx0LnNjb3JlO1xyXG4gICAgICAgIHRoaXMuZmVlZGJhY2sgPSByZXN1bHQuZmVlZGJhY2s7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wYXNzd29yZFN0cmVuZ3RoID0gdGhpcy5wYXNzd29yZFN0cmVuZ3RoTWV0ZXJTZXJ2aWNlLnNjb3JlKFxyXG4gICAgICAgICAgdGhpcy5wYXNzd29yZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5mZWVkYmFjayA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBPbmx5IGVtaXQgdGhlIHBhc3N3b3JkU3RyZW5ndGggaWYgaXQgY2hhbmdlZFxyXG4gICAgaWYgKHRoaXMucHJldlBhc3N3b3JkU3RyZW5ndGggIT09IHRoaXMucGFzc3dvcmRTdHJlbmd0aCkge1xyXG4gICAgICB0aGlzLnN0cmVuZ3RoQ2hhbmdlLmVtaXQodGhpcy5wYXNzd29yZFN0cmVuZ3RoKTtcclxuICAgICAgdGhpcy5wcmV2UGFzc3dvcmRTdHJlbmd0aCA9IHRoaXMucGFzc3dvcmRTdHJlbmd0aDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldE1ldGVyRmlsbENvbG9yKHN0cmVuZ3RoKSB7XHJcbiAgICBpZiAoIXN0cmVuZ3RoIHx8IHN0cmVuZ3RoIDwgMCB8fCBzdHJlbmd0aCA+IDUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY29sb3JzWzBdID8gdGhpcy5jb2xvcnNbMF0gOiB0aGlzLmRlZmF1bHRDb2xvdXJzWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmNvbG9yc1tzdHJlbmd0aF1cclxuICAgICAgPyB0aGlzLmNvbG9yc1tzdHJlbmd0aF1cclxuICAgICAgOiB0aGlzLmRlZmF1bHRDb2xvdXJzW3N0cmVuZ3RoXTtcclxuICB9XHJcbn1cclxuIl19