(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('zxcvbn'), require('@angular/common')) :
    typeof define === 'function' && define.amd ? define('angular-password-strength-meter', ['exports', '@angular/core', 'zxcvbn', '@angular/common'], factory) :
    (factory((global['angular-password-strength-meter'] = {}),global.ng.core,null,global.ng.common));
}(this, (function (exports,core,zxcvbn_,common) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ zxcvbn = zxcvbn_;
    var PasswordStrengthMeterService = (function () {
        function PasswordStrengthMeterService() {
        }
        /**
         *  this will return the password strength score in number
         *  0 - too guessable
         *  1 - very guessable
         *  2 - somewhat guessable
         *  3 - safely unguessable
         *  4 - very unguessable
         *
         *  @param password
         */
        /**
         *  this will return the password strength score in number
         *  0 - too guessable
         *  1 - very guessable
         *  2 - somewhat guessable
         *  3 - safely unguessable
         *  4 - very unguessable
         *
         *  \@param password
         * @param {?} password
         * @return {?}
         */
        PasswordStrengthMeterService.prototype.score = /**
         *  this will return the password strength score in number
         *  0 - too guessable
         *  1 - very guessable
         *  2 - somewhat guessable
         *  3 - safely unguessable
         *  4 - very unguessable
         *
         *  \@param password
         * @param {?} password
         * @return {?}
         */
            function (password) {
                var /** @type {?} */ result = zxcvbn(password);
                return result.score;
            };
        /**
         * this will return the password strength score with feedback messages
         * return type { score: number; feedback: { suggestions: string[]; warning: string } }
         *
         * @param password
         */
        /**
         * this will return the password strength score with feedback messages
         * return type { score: number; feedback: { suggestions: string[]; warning: string } }
         *
         * @param {?} password
         * @return {?}
         */
        PasswordStrengthMeterService.prototype.scoreWithFeedback = /**
         * this will return the password strength score with feedback messages
         * return type { score: number; feedback: { suggestions: string[]; warning: string } }
         *
         * @param {?} password
         * @return {?}
         */
            function (password) {
                var /** @type {?} */ result = zxcvbn(password);
                return { score: result.score, feedback: result.feedback };
            };
        PasswordStrengthMeterService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        PasswordStrengthMeterService.ctorParameters = function () { return []; };
        return PasswordStrengthMeterService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var PasswordStrengthMeterComponent = (function () {
        function PasswordStrengthMeterComponent(passwordStrengthMeterService) {
            this.passwordStrengthMeterService = passwordStrengthMeterService;
            this.minPasswordLength = 8;
            this.enableFeedback = false;
            this.colors = [];
            this.strengthChange = new core.EventEmitter();
            this.passwordStrength = null;
            this.feedback = null;
            this.prevPasswordStrength = null;
            this.defaultColours = [
                'darkred',
                'orangered',
                'orange',
                'yellowgreen',
                'green'
            ];
        }
        /**
         * @return {?}
         */
        PasswordStrengthMeterComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () { };
        /**
         * @param {?} changes
         * @return {?}
         */
        PasswordStrengthMeterComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes['password']) {
                    this.calculatePasswordStrength();
                }
            };
        /**
         * @return {?}
         */
        PasswordStrengthMeterComponent.prototype.calculatePasswordStrength = /**
         * @return {?}
         */
            function () {
                // TODO validation logic optimization
                if (!this.password) {
                    this.passwordStrength = null;
                }
                else if (this.password && this.password.length < this.minPasswordLength) {
                    this.passwordStrength = 0;
                }
                else {
                    if (this.enableFeedback) {
                        var /** @type {?} */ result = this.passwordStrengthMeterService.scoreWithFeedback(this.password);
                        this.passwordStrength = result.score;
                        this.feedback = result.feedback;
                    }
                    else {
                        this.passwordStrength = this.passwordStrengthMeterService.score(this.password);
                        this.feedback = null;
                    }
                }
                // Only emit the passwordStrength if it changed
                if (this.prevPasswordStrength !== this.passwordStrength) {
                    this.strengthChange.emit(this.passwordStrength);
                    this.prevPasswordStrength = this.passwordStrength;
                }
            };
        /**
         * @param {?} strength
         * @return {?}
         */
        PasswordStrengthMeterComponent.prototype.getMeterFillColor = /**
         * @param {?} strength
         * @return {?}
         */
            function (strength) {
                if (!strength || strength < 0 || strength > 5) {
                    return this.colors[0] ? this.colors[0] : this.defaultColours[0];
                }
                return this.colors[strength]
                    ? this.colors[strength]
                    : this.defaultColours[strength];
            };
        PasswordStrengthMeterComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'password-strength-meter',
                        template: "<div>\n  <div class=\"strength-meter\">\n    <div class=\"strength-meter-fill\" [style.background]=\"getMeterFillColor(passwordStrength)\" [attr.data-strength]=\"passwordStrength\"></div>\n  </div>\n  <ng-container *ngIf=\"enableFeedback && feedback\">\n    <small class=\"password-feedback\" *ngIf=\"feedback.warning\">\n      {{feedback.warning}}\n    </small>\n    <small class=\"password-feedback\" *ngIf=\"feedback.suggestions && feedback.suggestions.length > 0\">\n      <ng-container *ngFor=\"let suggetion of feedback.suggestions\">{{suggetion}}</ng-container>\n    </small>\n  </ng-container>\n</div>\n",
                        styles: [".strength-meter{position:relative;height:3px;background:#ddd;margin:10px auto;border-radius:3px}.strength-meter:after,.strength-meter:before{content:'';height:inherit;background:0 0;display:block;border-color:#fff;border-style:solid;border-width:0 5px;position:absolute;width:85px;z-index:10}.strength-meter:before{left:70px}.strength-meter:after{right:70px}.strength-meter-fill{background:0 0;height:inherit;position:absolute;width:0;border-radius:inherit;transition:width .5s ease-in-out,background .25s}.strength-meter-fill[data-strength='0']{background:#8b0000;width:20%}.strength-meter-fill[data-strength='1']{background:#ff4500;width:40%}.strength-meter-fill[data-strength='2']{background:orange;width:60%}.strength-meter-fill[data-strength='3']{background:#9acd32;width:80%}.strength-meter-fill[data-strength='4']{background:green;width:100%}.password-feedback{font-size:70%;font-weight:400;color:#6c757d!important;display:inline-block;margin-top:.25rem}"],
                        providers: [PasswordStrengthMeterService]
                    },] },
        ];
        /** @nocollapse */
        PasswordStrengthMeterComponent.ctorParameters = function () {
            return [
                { type: PasswordStrengthMeterService, },
            ];
        };
        PasswordStrengthMeterComponent.propDecorators = {
            "password": [{ type: core.Input },],
            "minPasswordLength": [{ type: core.Input },],
            "enableFeedback": [{ type: core.Input },],
            "colors": [{ type: core.Input },],
            "strengthChange": [{ type: core.Output },],
        };
        return PasswordStrengthMeterComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var PasswordStrengthMeterModule = (function () {
        function PasswordStrengthMeterModule() {
        }
        PasswordStrengthMeterModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [common.CommonModule],
                        declarations: [PasswordStrengthMeterComponent],
                        exports: [PasswordStrengthMeterComponent]
                    },] },
        ];
        return PasswordStrengthMeterModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.PasswordStrengthMeterService = PasswordStrengthMeterService;
    exports.PasswordStrengthMeterComponent = PasswordStrengthMeterComponent;
    exports.PasswordStrengthMeterModule = PasswordStrengthMeterModule;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1wYXNzd29yZC1zdHJlbmd0aC1tZXRlci51bWQuanMubWFwIiwic291cmNlcyI6WyJuZzovL2FuZ3VsYXItcGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXIvbGliL3Bhc3N3b3JkLXN0cmVuZ3RoLW1ldGVyLnNlcnZpY2UudHMiLCJuZzovL2FuZ3VsYXItcGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXIvbGliL3Bhc3N3b3JkLXN0cmVuZ3RoLW1ldGVyLmNvbXBvbmVudC50cyIsIm5nOi8vYW5ndWxhci1wYXNzd29yZC1zdHJlbmd0aC1tZXRlci9saWIvcGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXIubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbmltcG9ydCAqIGFzIHp4Y3Zibl8gZnJvbSAnenhjdmJuJztcclxuXHJcbmNvbnN0IHp4Y3ZibiA9IHp4Y3Zibl87XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBQYXNzd29yZFN0cmVuZ3RoTWV0ZXJTZXJ2aWNlIHtcclxuICBjb25zdHJ1Y3RvcigpIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqICB0aGlzIHdpbGwgcmV0dXJuIHRoZSBwYXNzd29yZCBzdHJlbmd0aCBzY29yZSBpbiBudW1iZXJcclxuICAgKiAgMCAtIHRvbyBndWVzc2FibGVcclxuICAgKiAgMSAtIHZlcnkgZ3Vlc3NhYmxlXHJcbiAgICogIDIgLSBzb21ld2hhdCBndWVzc2FibGVcclxuICAgKiAgMyAtIHNhZmVseSB1bmd1ZXNzYWJsZVxyXG4gICAqICA0IC0gdmVyeSB1bmd1ZXNzYWJsZVxyXG4gICAqXHJcbiAgICogIEBwYXJhbSBwYXNzd29yZFxyXG4gICAqL1xyXG4gIHNjb3JlKHBhc3N3b3JkKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHp4Y3ZibihwYXNzd29yZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0LnNjb3JlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdGhpcyB3aWxsIHJldHVybiB0aGUgcGFzc3dvcmQgc3RyZW5ndGggc2NvcmUgd2l0aCBmZWVkYmFjayBtZXNzYWdlc1xyXG4gICAqIHJldHVybiB0eXBlIHsgc2NvcmU6IG51bWJlcjsgZmVlZGJhY2s6IHsgc3VnZ2VzdGlvbnM6IHN0cmluZ1tdOyB3YXJuaW5nOiBzdHJpbmcgfSB9XHJcbiAgICpcclxuICAgKiBAcGFyYW0gcGFzc3dvcmRcclxuICAgKi9cclxuICBzY29yZVdpdGhGZWVkYmFjayhwYXNzd29yZCk6IHsgc2NvcmU6IG51bWJlcjsgZmVlZGJhY2s6IHsgc3VnZ2VzdGlvbnM6IHN0cmluZ1tdOyB3YXJuaW5nOiBzdHJpbmcgfSB9IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHp4Y3ZibihwYXNzd29yZCk7XHJcbiAgICByZXR1cm4geyBzY29yZTogcmVzdWx0LnNjb3JlLCBmZWVkYmFjazogcmVzdWx0LmZlZWRiYWNrIH07XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgQ29tcG9uZW50LFxyXG4gIE9uSW5pdCxcclxuICBJbnB1dCxcclxuICBPbkNoYW5nZXMsXHJcbiAgU2ltcGxlQ2hhbmdlcyxcclxuICBPdXRwdXQsXHJcbiAgRXZlbnRFbWl0dGVyXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBQYXNzd29yZFN0cmVuZ3RoTWV0ZXJTZXJ2aWNlIH0gZnJvbSAnLi9wYXNzd29yZC1zdHJlbmd0aC1tZXRlci5zZXJ2aWNlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAncGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXInLFxyXG4gIHRlbXBsYXRlOiBgPGRpdj5cclxuICA8ZGl2IGNsYXNzPVwic3RyZW5ndGgtbWV0ZXJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJzdHJlbmd0aC1tZXRlci1maWxsXCIgW3N0eWxlLmJhY2tncm91bmRdPVwiZ2V0TWV0ZXJGaWxsQ29sb3IocGFzc3dvcmRTdHJlbmd0aClcIiBbYXR0ci5kYXRhLXN0cmVuZ3RoXT1cInBhc3N3b3JkU3RyZW5ndGhcIj48L2Rpdj5cclxuICA8L2Rpdj5cclxuICA8bmctY29udGFpbmVyICpuZ0lmPVwiZW5hYmxlRmVlZGJhY2sgJiYgZmVlZGJhY2tcIj5cclxuICAgIDxzbWFsbCBjbGFzcz1cInBhc3N3b3JkLWZlZWRiYWNrXCIgKm5nSWY9XCJmZWVkYmFjay53YXJuaW5nXCI+XHJcbiAgICAgIHt7ZmVlZGJhY2sud2FybmluZ319XHJcbiAgICA8L3NtYWxsPlxyXG4gICAgPHNtYWxsIGNsYXNzPVwicGFzc3dvcmQtZmVlZGJhY2tcIiAqbmdJZj1cImZlZWRiYWNrLnN1Z2dlc3Rpb25zICYmIGZlZWRiYWNrLnN1Z2dlc3Rpb25zLmxlbmd0aCA+IDBcIj5cclxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgc3VnZ2V0aW9uIG9mIGZlZWRiYWNrLnN1Z2dlc3Rpb25zXCI+e3tzdWdnZXRpb259fTwvbmctY29udGFpbmVyPlxyXG4gICAgPC9zbWFsbD5cclxuICA8L25nLWNvbnRhaW5lcj5cclxuPC9kaXY+XHJcbmAsXHJcbiAgc3R5bGVzOiBbYC5zdHJlbmd0aC1tZXRlcntwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6M3B4O2JhY2tncm91bmQ6I2RkZDttYXJnaW46MTBweCBhdXRvO2JvcmRlci1yYWRpdXM6M3B4fS5zdHJlbmd0aC1tZXRlcjphZnRlciwuc3RyZW5ndGgtbWV0ZXI6YmVmb3Jle2NvbnRlbnQ6Jyc7aGVpZ2h0OmluaGVyaXQ7YmFja2dyb3VuZDowIDA7ZGlzcGxheTpibG9jaztib3JkZXItY29sb3I6I2ZmZjtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLXdpZHRoOjAgNXB4O3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjg1cHg7ei1pbmRleDoxMH0uc3RyZW5ndGgtbWV0ZXI6YmVmb3Jle2xlZnQ6NzBweH0uc3RyZW5ndGgtbWV0ZXI6YWZ0ZXJ7cmlnaHQ6NzBweH0uc3RyZW5ndGgtbWV0ZXItZmlsbHtiYWNrZ3JvdW5kOjAgMDtoZWlnaHQ6aW5oZXJpdDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDowO2JvcmRlci1yYWRpdXM6aW5oZXJpdDt0cmFuc2l0aW9uOndpZHRoIC41cyBlYXNlLWluLW91dCxiYWNrZ3JvdW5kIC4yNXN9LnN0cmVuZ3RoLW1ldGVyLWZpbGxbZGF0YS1zdHJlbmd0aD0nMCdde2JhY2tncm91bmQ6IzhiMDAwMDt3aWR0aDoyMCV9LnN0cmVuZ3RoLW1ldGVyLWZpbGxbZGF0YS1zdHJlbmd0aD0nMSdde2JhY2tncm91bmQ6I2ZmNDUwMDt3aWR0aDo0MCV9LnN0cmVuZ3RoLW1ldGVyLWZpbGxbZGF0YS1zdHJlbmd0aD0nMidde2JhY2tncm91bmQ6b3JhbmdlO3dpZHRoOjYwJX0uc3RyZW5ndGgtbWV0ZXItZmlsbFtkYXRhLXN0cmVuZ3RoPSczJ117YmFja2dyb3VuZDojOWFjZDMyO3dpZHRoOjgwJX0uc3RyZW5ndGgtbWV0ZXItZmlsbFtkYXRhLXN0cmVuZ3RoPSc0J117YmFja2dyb3VuZDpncmVlbjt3aWR0aDoxMDAlfS5wYXNzd29yZC1mZWVkYmFja3tmb250LXNpemU6NzAlO2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjojNmM3NTdkIWltcG9ydGFudDtkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW4tdG9wOi4yNXJlbX1gXSxcclxuICBwcm92aWRlcnM6IFtQYXNzd29yZFN0cmVuZ3RoTWV0ZXJTZXJ2aWNlXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgUGFzc3dvcmRTdHJlbmd0aE1ldGVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMge1xyXG4gIEBJbnB1dCgpIHBhc3N3b3JkOiBzdHJpbmc7XHJcblxyXG4gIEBJbnB1dCgpIG1pblBhc3N3b3JkTGVuZ3RoID0gODtcclxuXHJcbiAgQElucHV0KCkgZW5hYmxlRmVlZGJhY2sgPSBmYWxzZTtcclxuXHJcbiAgQElucHV0KCkgY29sb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBAT3V0cHV0KCkgc3RyZW5ndGhDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcclxuXHJcbiAgcGFzc3dvcmRTdHJlbmd0aDogbnVtYmVyID0gbnVsbDtcclxuXHJcbiAgZmVlZGJhY2s6IHsgc3VnZ2VzdGlvbnM6IHN0cmluZ1tdOyB3YXJuaW5nOiBzdHJpbmcgfSA9IG51bGw7XHJcblxyXG4gIHByaXZhdGUgcHJldlBhc3N3b3JkU3RyZW5ndGggPSBudWxsO1xyXG5cclxuICBwcml2YXRlIGRlZmF1bHRDb2xvdXJzID0gW1xyXG4gICAgJ2RhcmtyZWQnLFxyXG4gICAgJ29yYW5nZXJlZCcsXHJcbiAgICAnb3JhbmdlJyxcclxuICAgICd5ZWxsb3dncmVlbicsXHJcbiAgICAnZ3JlZW4nXHJcbiAgXTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIHBhc3N3b3JkU3RyZW5ndGhNZXRlclNlcnZpY2U6IFBhc3N3b3JkU3RyZW5ndGhNZXRlclNlcnZpY2VcclxuICApIHt9XHJcblxyXG4gIG5nT25Jbml0KCkge31cclxuXHJcbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xyXG4gICAgaWYgKGNoYW5nZXNbJ3Bhc3N3b3JkJ10pIHtcclxuICAgICAgdGhpcy5jYWxjdWxhdGVQYXNzd29yZFN0cmVuZ3RoKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNhbGN1bGF0ZVBhc3N3b3JkU3RyZW5ndGgoKSB7XHJcbiAgICAvLyBUT0RPIHZhbGlkYXRpb24gbG9naWMgb3B0aW1pemF0aW9uXHJcbiAgICBpZiAoIXRoaXMucGFzc3dvcmQpIHtcclxuICAgICAgdGhpcy5wYXNzd29yZFN0cmVuZ3RoID0gbnVsbDtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5wYXNzd29yZCAmJiB0aGlzLnBhc3N3b3JkLmxlbmd0aCA8IHRoaXMubWluUGFzc3dvcmRMZW5ndGgpIHtcclxuICAgICAgdGhpcy5wYXNzd29yZFN0cmVuZ3RoID0gMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLmVuYWJsZUZlZWRiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wYXNzd29yZFN0cmVuZ3RoTWV0ZXJTZXJ2aWNlLnNjb3JlV2l0aEZlZWRiYWNrKFxyXG4gICAgICAgICAgdGhpcy5wYXNzd29yZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5wYXNzd29yZFN0cmVuZ3RoID0gcmVzdWx0LnNjb3JlO1xyXG4gICAgICAgIHRoaXMuZmVlZGJhY2sgPSByZXN1bHQuZmVlZGJhY2s7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wYXNzd29yZFN0cmVuZ3RoID0gdGhpcy5wYXNzd29yZFN0cmVuZ3RoTWV0ZXJTZXJ2aWNlLnNjb3JlKFxyXG4gICAgICAgICAgdGhpcy5wYXNzd29yZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5mZWVkYmFjayA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBPbmx5IGVtaXQgdGhlIHBhc3N3b3JkU3RyZW5ndGggaWYgaXQgY2hhbmdlZFxyXG4gICAgaWYgKHRoaXMucHJldlBhc3N3b3JkU3RyZW5ndGggIT09IHRoaXMucGFzc3dvcmRTdHJlbmd0aCkge1xyXG4gICAgICB0aGlzLnN0cmVuZ3RoQ2hhbmdlLmVtaXQodGhpcy5wYXNzd29yZFN0cmVuZ3RoKTtcclxuICAgICAgdGhpcy5wcmV2UGFzc3dvcmRTdHJlbmd0aCA9IHRoaXMucGFzc3dvcmRTdHJlbmd0aDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldE1ldGVyRmlsbENvbG9yKHN0cmVuZ3RoKSB7XHJcbiAgICBpZiAoIXN0cmVuZ3RoIHx8IHN0cmVuZ3RoIDwgMCB8fCBzdHJlbmd0aCA+IDUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY29sb3JzWzBdID8gdGhpcy5jb2xvcnNbMF0gOiB0aGlzLmRlZmF1bHRDb2xvdXJzWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmNvbG9yc1tzdHJlbmd0aF1cclxuICAgICAgPyB0aGlzLmNvbG9yc1tzdHJlbmd0aF1cclxuICAgICAgOiB0aGlzLmRlZmF1bHRDb2xvdXJzW3N0cmVuZ3RoXTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuXHJcbmltcG9ydCB7IFBhc3N3b3JkU3RyZW5ndGhNZXRlckNvbXBvbmVudCB9IGZyb20gJy4vcGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXIuY29tcG9uZW50JztcclxuXHJcbkBOZ01vZHVsZSh7XHJcbiAgaW1wb3J0czogW0NvbW1vbk1vZHVsZV0sXHJcbiAgZGVjbGFyYXRpb25zOiBbUGFzc3dvcmRTdHJlbmd0aE1ldGVyQ29tcG9uZW50XSxcclxuICBleHBvcnRzOiBbUGFzc3dvcmRTdHJlbmd0aE1ldGVyQ29tcG9uZW50XVxyXG59KVxyXG5leHBvcnQgY2xhc3MgUGFzc3dvcmRTdHJlbmd0aE1ldGVyTW9kdWxlIHt9XHJcbiJdLCJuYW1lcyI6WyJJbmplY3RhYmxlIiwiRXZlbnRFbWl0dGVyIiwiQ29tcG9uZW50IiwiSW5wdXQiLCJPdXRwdXQiLCJOZ01vZHVsZSIsIkNvbW1vbk1vZHVsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBSUEscUJBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQzs7UUFJckI7U0FBZ0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBWWhCLDRDQUFLOzs7Ozs7Ozs7Ozs7WUFBTCxVQUFNLFFBQVE7Z0JBQ1oscUJBQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDaEMsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDO2FBQ3JCOzs7Ozs7Ozs7Ozs7OztRQVFELHdEQUFpQjs7Ozs7OztZQUFqQixVQUFrQixRQUFRO2dCQUN4QixxQkFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNoQyxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQzthQUMzRDs7b0JBNUJGQSxlQUFVOzs7OzJDQU5YOzs7Ozs7O0FDQUE7UUF3REUsd0NBQ1U7WUFBQSxpQ0FBNEIsR0FBNUIsNEJBQTRCO3FDQXZCVCxDQUFDO2tDQUVKLEtBQUs7MEJBRUgsRUFBRTtrQ0FFSCxJQUFJQyxpQkFBWSxFQUFVO29DQUUxQixJQUFJOzRCQUV3QixJQUFJO3dDQUU1QixJQUFJO2tDQUVWO2dCQUN2QixTQUFTO2dCQUNULFdBQVc7Z0JBQ1gsUUFBUTtnQkFDUixhQUFhO2dCQUNiLE9BQU87YUFDUjtTQUlHOzs7O1FBRUosaURBQVE7OztZQUFSLGVBQWE7Ozs7O1FBRWIsb0RBQVc7Ozs7WUFBWCxVQUFZLE9BQXNCO2dCQUNoQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBRTtvQkFDdkIsSUFBSSxDQUFDLHlCQUF5QixFQUFFLENBQUM7aUJBQ2xDO2FBQ0Y7Ozs7UUFFTyxrRUFBeUI7Ozs7O2dCQUUvQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtvQkFDbEIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztpQkFDOUI7cUJBQU0sSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtvQkFDekUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLENBQUMsQ0FBQztpQkFDM0I7cUJBQU07b0JBQ0wsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO3dCQUN2QixxQkFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLDRCQUE0QixDQUFDLGlCQUFpQixDQUNoRSxJQUFJLENBQUMsUUFBUSxDQUNkLENBQUM7d0JBQ0YsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUM7d0JBQ3JDLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQztxQkFDakM7eUJBQU07d0JBQ0wsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxLQUFLLENBQzdELElBQUksQ0FBQyxRQUFRLENBQ2QsQ0FBQzt3QkFDRixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztxQkFDdEI7aUJBQ0Y7O2dCQUdELElBQUksSUFBSSxDQUFDLG9CQUFvQixLQUFLLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtvQkFDdkQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7b0JBQ2hELElBQUksQ0FBQyxvQkFBb0IsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7aUJBQ25EOzs7Ozs7UUFHSCwwREFBaUI7Ozs7WUFBakIsVUFBa0IsUUFBUTtnQkFDeEIsSUFBSSxDQUFDLFFBQVEsSUFBSSxRQUFRLEdBQUcsQ0FBQyxJQUFJLFFBQVEsR0FBRyxDQUFDLEVBQUU7b0JBQzdDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ2pFO2dCQUVELE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7c0JBQ3hCLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO3NCQUNyQixJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQ25DOztvQkE1RkZDLGNBQVMsU0FBQzt3QkFDVCxRQUFRLEVBQUUseUJBQXlCO3dCQUNuQyxRQUFRLEVBQUUscW1CQWFYO3dCQUNDLE1BQU0sRUFBRSxDQUFDLG04QkFBbThCLENBQUM7d0JBQzc4QixTQUFTLEVBQUUsQ0FBQyw0QkFBNEIsQ0FBQztxQkFDMUM7Ozs7O3dCQXBCUSw0QkFBNEI7Ozs7aUNBc0JsQ0MsVUFBSzswQ0FFTEEsVUFBSzt1Q0FFTEEsVUFBSzsrQkFFTEEsVUFBSzt1Q0FFTEMsV0FBTTs7NkNBeENUOzs7Ozs7O0FDQUE7Ozs7b0JBS0NDLGFBQVEsU0FBQzt3QkFDUixPQUFPLEVBQUUsQ0FBQ0MsbUJBQVksQ0FBQzt3QkFDdkIsWUFBWSxFQUFFLENBQUMsOEJBQThCLENBQUM7d0JBQzlDLE9BQU8sRUFBRSxDQUFDLDhCQUE4QixDQUFDO3FCQUMxQzs7MENBVEQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7In0=