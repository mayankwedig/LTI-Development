!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("@angular/animations"),require("@angular/common"),require("@angular/material")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/forms","@angular/animations","@angular/common","@angular/material"],e):e(t.angularMaterialExtensionsPasswordStrength={},t.ng.core,t.ng.forms,t.ng.animations,t.ng.common,t.ng.material)}(this,function(t,e,a,n,r,o){"use strict";var s="primary",i="accent",p="warn",l={at_least_eight_chars:0,at_least_one_lower_case_char:1,at_least_one_upper_case_char:2,at_least_one_digit_char:3,at_least_one_special_char:4};l[l.at_least_eight_chars]="at_least_eight_chars",l[l.at_least_one_lower_case_char]="at_least_one_lower_case_char",l[l.at_least_one_upper_case_char]="at_least_one_upper_case_char",l[l.at_least_one_digit_char]="at_least_one_digit_char",l[l.at_least_one_special_char]="at_least_one_special_char";var c=function(){function t(){this.validators=Object.keys(l).map(function(t){return l[t]}),this.enableLengthRule=!0,this.enableLowerCaseLetterRule=!0,this.enableUpperCaseLetterRule=!0,this.enableDigitRule=!0,this.enableSpecialCharRule=!0,this.min=8,this.max=30,this.onStrengthChanged=new e.EventEmitter,this.criteriaMap=new Map,this.passwordFormControl=new a.FormControl,this._strength=0}return t.prototype.ngOnInit=function(){this.setRulesAndValidators()},t.prototype.ngOnChanges=function(t){t.externalError&&t.externalError.firstChange||t.password.isFirstChange()||(t.externalError&&t.externalError.currentValue?this._color=p:this.password&&this.password.length>0?this.calculatePasswordStrength():this.reset())},Object.defineProperty(t.prototype,"strength",{get:function(){return this._strength?this._strength:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._strength<=20?p:this._strength<=80?i:s},enumerable:!0,configurable:!0}),t.prototype._containAtLeastEightChars=function(){return this.containAtLeastEightChars=this.password.length>=8,this.containAtLeastEightChars},t.prototype._containAtLeastOneLowerCaseLetter=function(){return this.containAtLeastOneLowerCaseLetter=this.criteriaMap.get(l.at_least_one_lower_case_char).test(this.password),this.containAtLeastOneLowerCaseLetter},t.prototype._containAtLeastOneUpperCaseLetter=function(){return this.containAtLeastOneUpperCaseLetter=this.criteriaMap.get(l.at_least_one_upper_case_char).test(this.password),this.containAtLeastOneUpperCaseLetter},t.prototype._containAtLeastOneDigit=function(){return this.containAtLeastOneDigit=this.criteriaMap.get(l.at_least_one_digit_char).test(this.password),this.containAtLeastOneDigit},t.prototype._containAtLeastOneSpecialChar=function(){return this.containAtLeastOneSpecialChar=this.criteriaMap.get(l.at_least_one_special_char).test(this.password),this.containAtLeastOneSpecialChar},t.prototype.setRulesAndValidators=function(){var t=this;this.enableLengthRule&&this.criteriaMap.set(l.at_least_eight_chars,RegExp("^.{"+this.min+","+this.max+"$")),this.enableLowerCaseLetterRule&&this.criteriaMap.set(l.at_least_one_lower_case_char,RegExp(/^(?=.*?[a-z])/)),this.enableUpperCaseLetterRule&&this.criteriaMap.set(l.at_least_one_upper_case_char,RegExp(/^(?=.*?[A-Z])/)),this.enableDigitRule&&this.criteriaMap.set(l.at_least_one_digit_char,RegExp(/^(?=.*?[0-9])/)),this.enableSpecialCharRule&&this.criteriaMap.set(l.at_least_one_special_char,RegExp(/^(?=.*?[" !"#$%&'()*+,-./:;<=>?@[\]^_`{|}~"])/)),this.passwordFormControl.setValidators(a.Validators.pattern(this.criteriaMap.get(l.at_least_eight_chars))),this.validators.map(function(e){t.passwordFormControl.setValidators(a.Validators.pattern(t.criteriaMap.get(e)))})},t.prototype.calculatePasswordStrength=function(){var t=[],e=100/this.criteriaMap.size;t.push(!!this.enableLengthRule&&this._containAtLeastEightChars(),!!this.enableLowerCaseLetterRule&&this._containAtLeastOneLowerCaseLetter(),!!this.enableUpperCaseLetterRule&&this._containAtLeastOneUpperCaseLetter(),!!this.enableDigitRule&&this._containAtLeastOneDigit(),!!this.enableSpecialCharRule&&this._containAtLeastOneSpecialChar()),this._strength=t.filter(function(t){return t}).length*e,this.onStrengthChanged.emit(this.strength)},t.prototype.reset=function(){this._strength=0,this.containAtLeastEightChars=this.containAtLeastOneLowerCaseLetter=this.containAtLeastOneUpperCaseLetter=this.containAtLeastOneDigit=this.containAtLeastOneSpecialChar=!1},t.decorators=[{type:e.Component,args:[{selector:"mat-password-strength",exportAs:"matPasswordStrength",template:'\n    <mat-progress-bar mode="determinate"\n                      [color]="color"\n                      [value]="strength">\n    </mat-progress-bar>\n  ',styles:["\n\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t.propDecorators={password:[{type:e.Input}],validators:[{type:e.Input}],externalError:[{type:e.Input}],enableLengthRule:[{type:e.Input}],enableLowerCaseLetterRule:[{type:e.Input}],enableUpperCaseLetterRule:[{type:e.Input}],enableDigitRule:[{type:e.Input}],enableSpecialCharRule:[{type:e.Input}],min:[{type:e.Input}],max:[{type:e.Input}],onStrengthChanged:[{type:e.Output}]},t}();function h(t,e,a){var r={timing:t,delay:0,rotateX:e,rotateY:a};return n.animation([n.style({"backface-visibility":"visible"}),n.animate("{{ timing }}s {{ delay }}s ease-in",n.keyframes([n.style({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),n.style({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),n.style({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),n.style({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),n.style({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:r})}h(1,1,0),h(1,0,1);var m=n.animation(n.animate("{{ timing }}s {{ delay }}s",n.keyframes([n.style({transform:"translate3d(0, 0, 0)",offset:0}),n.style({transform:"translate3d(-10px, 0, 0)",offset:.1}),n.style({transform:"translate3d(10px, 0, 0)",offset:.2}),n.style({transform:"translate3d(-10px, 0, 0)",offset:.3}),n.style({transform:"translate3d(10px, 0, 0)",offset:.4}),n.style({transform:"translate3d(-10px, 0, 0)",offset:.5}),n.style({transform:"translate3d(10px, 0, 0)",offset:.6}),n.style({transform:"translate3d(-10px, 0, 0)",offset:.7}),n.style({transform:"translate3d(10px, 0, 0)",offset:.8}),n.style({transform:"translate3d(-10px, 0, 0)",offset:.9}),n.style({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}}),d=function(){function t(){this.enableScoreInfo=!1}return t.decorators=[{type:e.Component,args:[{selector:"mat-password-strength-info",exportAs:"matPasswordStrengthInfo",template:'\n    <mat-card @list>\n      <mat-card-content fxLayout="column" fxLayoutAlign="start">\n\n        <div class="info-row" @items *ngIf="passwordComponent.enableLowerCaseLetterRule">\n          <div *ngIf="passwordComponent.containAtLeastOneLowerCaseLetter; then done else error" @flipY>\n          </div>\n          <ng-template #done>\n            <mat-icon @positiveState color="primary">done</mat-icon>\n          </ng-template>\n          <ng-template #error>\n            <mat-icon @negativeState color="warn">error</mat-icon>\n          </ng-template>\n          <div>\n            <p>contains at least one lower character</p>\n          </div>\n        </div>\n\n        <div class="info-row" @items *ngIf="passwordComponent.enableUpperCaseLetterRule">\n          <div *ngIf="passwordComponent.containAtLeastOneUpperCaseLetter; then done else error">\n          </div>\n          <ng-template #done>\n            <mat-icon @positiveState color="primary">done</mat-icon>\n          </ng-template>\n          <ng-template #error>\n            <mat-icon @negativeState color="warn">error</mat-icon>\n          </ng-template>\n          <div>\n            <p>contains at least one upper character</p>\n          </div>\n        </div>\n\n        <div class="info-row" @items *ngIf="passwordComponent.enableDigitRule">\n          <div *ngIf="passwordComponent.containAtLeastOneDigit; then done else error">\n          </div>\n          <ng-template #done>\n            <mat-icon @positiveState color="primary">done</mat-icon>\n          </ng-template>\n          <ng-template #error>\n            <mat-icon @negativeState color="warn">error</mat-icon>\n          </ng-template>\n          <div>\n            <p>contains at least one digit character</p>\n          </div>\n        </div>\n\n        <div class="info-row" @items *ngIf="passwordComponent.enableSpecialCharRule">\n          <div *ngIf="passwordComponent.containAtLeastOneSpecialChar; then done else error">\n          </div>\n          <ng-template #done>\n            <mat-icon @positiveState color="primary">done</mat-icon>\n          </ng-template>\n          <ng-template #error>\n            <mat-icon @negativeState color="warn">error</mat-icon>\n          </ng-template>\n          <div>\n            <p>contains at least one special character</p>\n          </div>\n        </div>\n\n        <div class="info-row" @items *ngIf="passwordComponent.enableLengthRule">\n          <div *ngIf="passwordComponent.containAtLeastEightChars; then done else error">\n          </div>\n          <ng-template #done>\n            <mat-icon @positiveState color="primary">done</mat-icon>\n          </ng-template>\n          <ng-template #error>\n            <mat-icon @negativeState color="warn">error</mat-icon>\n          </ng-template>\n          <div>\n            <p>contains at least {{passwordComponent.min}} characters</p>\n          </div>\n        </div>\n\n        <div *ngIf="enableScoreInfo" class="info-row" @items>\n          <div *ngIf="passwordComponent.strength === 100; then done else error">\n          </div>\n          <ng-template #done>\n            <mat-icon @positiveState color="primary">done</mat-icon>\n          </ng-template>\n          <ng-template #error>\n            <mat-icon @negativeState color="warn">error</mat-icon>\n          </ng-template>\n          <div>\n            <p>Password\'s strength = {{passwordComponent.strength}} %100</p>\n          </div>\n        </div>\n\n      </mat-card-content>\n    </mat-card>\n  ',styles:["\n    mat-card{flex-direction:row;place-content:stretch center;flex:1 1 0%}mat-card,mat-card mat-card-content{box-sizing:border-box;display:flex;align-items:stretch}mat-card mat-card-content{flex-direction:column;max-width:100%;place-content:stretch flex-start}mat-card mat-card-content mat-icon{margin-right:10px}mat-card mat-card-content .info-row{flex-direction:row;box-sizing:border-box;display:flex}\n  "],animations:[n.trigger("list",[n.transition(":enter",[n.query("@items",n.stagger(300,n.animateChild()))])]),n.trigger("items",[n.transition(":enter",[n.style({transform:"scale(0.5)",opacity:0}),n.animate("1s cubic-bezier(.8,-0.6,0.2,1.5)",n.style({transform:"scale(1)",opacity:1}))]),n.transition(":leave",[n.style({transform:"scale(1)",opacity:1,height:"*"}),n.animate("1s cubic-bezier(.8,-0.6,0.2,1.5)",n.style({transform:"scale(0.5)",opacity:0,height:"0px",margin:"0px"}))])]),n.trigger("positiveState",[n.transition(":enter",[n.style({"backface-visibility":"visible"}),n.animate("{{ timing }}s {{ delay }}s ease-in",n.keyframes([n.style({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),n.style({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),n.style({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),n.style({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),n.style({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:{timing:1,delay:0,rotateX:1,rotateY:0}})]),n.trigger("negativeState",[n.transition(":enter",n.useAnimation(m))])]}]}],t.propDecorators={passwordComponent:[{type:e.Input}],enableScoreInfo:[{type:e.Input}]},t}(),g=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:e.NgModule,args:[{imports:[r.CommonModule,o.MatProgressBarModule,o.MatCardModule,o.MatIconModule],exports:[c,d],declarations:[c,d]}]}],t}();t.MatPasswordStrengthComponent=c,t.MatPasswordStrengthInfoComponent=d,t.MatPasswordStrengthModule=g,t.ɵa=m,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=password-strength.umd.min.js.map
